(function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.dom_id="swagger_ui",t.prototype.options=null,t.prototype.api=null,t.prototype.headerView=null,t.prototype.mainView=null,t.prototype.initialize=function(e){var t=this;return e==null&&(e={}),e.dom_id!=null&&(this.dom_id=e.dom_id,delete e.dom_id),$("#"+this.dom_id)==null&&$("body").append('<div id="'+this.dom_id+'"></div>'),this.options=e,this.options.success=function(){return t.render()},this.options.progress=function(e){return t.showMessage(e)},this.options.failure=function(e){return t.onLoadFailure(e)},this.headerView=new HeaderView({el:$("#header")}),this.headerView.on("update-swagger-ui",function(e){return t.updateSwaggerUi(e)})},t.prototype.updateSwaggerUi=function(e){return this.options.discoveryUrl=e.discoveryUrl,this.options.apiKey=e.apiKey,this.load()},t.prototype.load=function(){var e;return(e=this.mainView)!=null&&e.clear(),this.headerView.update(this.options.discoveryUrl,this.options.apiKey),this.api=new SwaggerApi(this.options)},t.prototype.render=function(){var e=this;this.showMessage("Finished Loading Resource Information. Rendering Swagger UI..."),this.mainView=(new MainView({model:this.api,el:$("#"+this.dom_id)})).render(),this.showMessage();switch(this.options.docExpansion){case"full":Docs.expandOperationsForResource("");break;case"list":Docs.collapseOperationsForResource("")}return this.options.onComplete&&this.options.onComplete(this.api,this),setTimeout(function(){return Docs.shebang()},400)},t.prototype.showMessage=function(e){return e==null&&(e=""),$("#message-bar").removeClass("message-fail"),$("#message-bar").addClass("message-success"),$("#message-bar").html(e)},t.prototype.onLoadFailure=function(e){var t;return e==null&&(e=""),$("#message-bar").removeClass("message-success"),$("#message-bar").addClass("message-fail"),t=$("#message-bar").html(e),this.options.onFailure!=null&&this.options.onFailure(e),t},t}(Backbone.Router),window.SwaggerUi=e}).call(this);